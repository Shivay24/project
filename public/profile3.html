<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Post Tournament</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
      body {
        background-color: #f8f9fa;
        color: #212529;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
      .form-label {
        font-weight: bold;
      }
      .preview-img {
        width: 100px;
        height: 120px;
        border: 1px solid #ccc;
        display: block;
        margin-top: 10px;
      }
    </style>
    <script>
      $(document).ready(function() {
        $("#txtemail").val(localStorage.getItem("activeUser")).attr("readonly", true);
      });
      
      function previewImage(event) {
        let reader = new FileReader();
        reader.onload = function(){
          let output = document.getElementById('prev');
          output.src = reader.result;
        };
        reader.readAsDataURL(event.target.files[0]);
      }
    </script>
  </head>
  <body>
    <div class="container mt-4">
      <h2 class="text-center mb-4">Post Tournament</h2>
      <form class="row g-3" enctype="multipart/form-data" method="post">
        <div class="col-md-12">
          <label class="form-label">Email</label>
          <input type="text" class="form-control" id="txtemail" name="txtemail">
        </div>
        <div class="col-md-4">
          <label class="form-label">Game</label>
          <input type="text" class="form-control" id="txtgame" name="txtgame">
        </div>
        <div class="col-md-4">
          <label class="form-label">Title</label>
          <input type="text" class="form-control" id="txttitle" name="txttitle">
        </div>
        <div class="col-md-4">
          <label class="form-label">Entry Fee</label>
          <input type="text" class="form-control" id="txtfee" name="txtfee">
        </div>
        <div class="col-md-4">
          <label class="form-label">Date</label>
          <input type="date" class="form-control" name="txtdate" id="txtdate">
        </div>
        <div class="col-md-4">
          <label class="form-label">City</label>
          <input type="text" class="form-control" id="txtcity" name="txtcity">
        </div>
        <div class="col-md-4">
          <label class="form-label">Location</label>
          <input type="text" class="form-control" id="txtlocation" name="txtlocation">
        </div>
        <div class="col-md-12">
          <label class="form-label">Prizes</label>
          <input type="text" class="form-control" id="txtprize" name="txtprize">
        </div>
        <div class="col-md-6">
          <label class="form-label">Upload Poster</label>
          <input type="file" class="form-control" name="txtposter" id="txtposter" onchange="previewImage(event)">
        </div>
        <div class="col-md-6">
          <img src="" id="prev" alt="Preview" class="preview-img">
        </div>
        <div class="col-md-12">
          <label class="form-label">Other Info</label>
          <textarea class="form-control" id="txtinfo" name="txtinfo" rows="3"></textarea>
        </div>
        <div class="col-12 text-center">
          <button type="submit" class="btn btn-success" formaction="/save-tournament">Save Tournament</button>
        </div>
      </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>